{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAsBA,SAASC,EAAcC,EAAUC,GAW/B,OAVgB,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,GACFF,EAAQ,C,SAACH,E,MAAUC,IAEnBG,EAAO,C,SAACJ,E,MAAUC,GAAO,GAC1BA,EAAM,G,CAKb,SAASQ,GAAQT,SAACA,EAAQC,MAAEA,IAC1BS,EAAAb,GAASc,OAAOC,QACd,uBAAqBZ,QAAiBC,MAAW,CAE/CY,cAAc,EACdC,cAAc,EACdC,SAAS,G,CAMf,SAASC,GAAOhB,SAACA,EAAQC,MAAEA,IACzBS,EAAAb,GAASc,OAAOC,QACd,uBAAqBZ,QAAiBC,MAAW,CAE/CY,cAAc,EACdC,cAAc,EACdC,SAAS,G,CApDAE,SAASC,cAAc,SAE/BC,iBAAiB,UAExB,SAAsBC,GACpBA,EAAMC,iBAEN,MAAMC,EAAWC,OAAOH,EAAMI,OAAOC,SAASxB,MAAMyB,OAC9CC,EAAUJ,OAAOH,EAAMI,OAAOC,SAASG,KAAKF,OAC5CG,EAAYN,OAAOH,EAAMI,OAAOC,SAASK,OAAOJ,OAEtD,IAAIzB,EAAQqB,EAAWK,EAEvB,IAAI,IAAII,EAAI,EAAGA,GAAKF,EAAWE,GAAK,EAAE,CACpC9B,GAAS0B,EACI5B,EAAcgC,EAAG9B,GACzB+B,KAAKvB,GAASwB,MAAMjB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst fromEl = document.querySelector('.form');\n\nfromEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event){\n  event.preventDefault();\n\n  const delayVal = Number(event.target.elements.delay.value);\n  const stepVal = Number(event.target.elements.step.value);\n  const amountVal = Number(event.target.elements.amount.value);\n\n  let delay = delayVal - stepVal;\n\n  for(let i = 1; i <= amountVal; i += 1){\n    delay += stepVal;\n    const prom = createPromise(i, delay);\n    prom.then(fulfill).catch(reject);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    \n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position, delay});\n      }\n        reject({position, delay});\n    }, delay);\n  })\n  return promise;\n}\n\nfunction fulfill({position, delay}){\n  Notiflix.Notify.success(\n    `✅ Fulfilled promise ${position} in ${delay}ms`,\n    {\n      clickToClose: true,\n      pauseOnHover: true,\n      useIcon: false,\n    },\n  );\n  // Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction reject({position, delay}){\n  Notiflix.Notify.success(\n    `❌ Fulfilled promise ${position} in ${delay}ms`,\n    {\n      clickToClose: true,\n      pauseOnHover: true,\n      useIcon: false,\n    },\n  );\n  // Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n}\n\n\n\n// Варіант 2\n\n// import Notiflix from 'notiflix';\n\n// const fromEl = document.querySelector('.form');\n\n// fromEl.addEventListener('submit', onFormSubmit);\n\n// function onFormSubmit(event){\n//   event.preventDefault();\n\n//   const delayVal = Number(event.target.elements.delay.value);\n//   const stepVal = Number(event.target.elements.step.value);\n//   const amountVal = Number(event.target.elements.amount.value);\n\n//   let delay = delayVal - stepVal;\n\n//   for(let i = 1; i <= amountVal; i += 1){\n//     delay += stepVal;\n//     createPromise(i, delay);\n//   }\n// }\n\n// function createPromise(position, delay) {\n//   const shouldResolve = Math.random() > 0.3;\n//   setTimeout(() => {\n//   if (shouldResolve) {\n//       fulfill({position, delay});\n//   } else {\n//       reject({position, delay});\n//     }\n//   }, delay);\n// }\n\n// function fulfill({position, delay}){\n//   Notiflix.Notify.success(\n//     `✅ Fulfilled promise ${position} in ${delay}ms`,\n//     {\n//       clickToClose: true,\n//       pauseOnHover: true,\n//       useIcon: false,\n//     },\n//   );\n//   // Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n// }\n\n// function reject({position, delay}){\n//   Notiflix.Notify.success(\n//     `❌ Fulfilled promise ${position} in ${delay}ms`,\n//     {\n//       clickToClose: true,\n//       pauseOnHover: true,\n//       useIcon: false,\n//     },\n//   );\n//   // Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n// }"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject1","shouldResolve","Math","random","setTimeout","$47d4ff9957288465$var$fulfill","$parcel$interopDefault","Notify","success","clickToClose","pauseOnHover","useIcon","$47d4ff9957288465$var$reject","document","querySelector","addEventListener","event","preventDefault","delayVal","Number","target","elements","value","stepVal","step","amountVal","amount","i","then","catch"],"version":3,"file":"03-promises.09decc60.js.map"}